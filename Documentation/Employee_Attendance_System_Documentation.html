<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Attendance System - Technical Documentation</title>
    <style>
        @page {
            size: A4;
            margin: 25mm 20mm 25mm 20mm;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 210mm;
            margin: 0 auto;
            padding: 40px;
            background: #fff;
        }
        
        /* Cover Page */
        .cover-page {
            text-align: center;
            page-break-after: always;
            padding-top: 100px;
        }
        
        .cover-page h1 {
            font-size: 36px;
            color: #4f46e5;
            margin-bottom: 20px;
            border: none;
        }
        
        .cover-page .subtitle {
            font-size: 20px;
            color: #666;
            margin-bottom: 60px;
        }
        
        .cover-page .project-info {
            margin-top: 100px;
            text-align: left;
            display: inline-block;
        }
        
        .cover-page .project-info p {
            margin: 10px 0;
            font-size: 14px;
        }
        
        .cover-page .project-info strong {
            display: inline-block;
            width: 150px;
        }
        
        /* Table of Contents */
        .toc {
            page-break-after: always;
        }
        
        .toc h2 {
            color: #4f46e5;
            border-bottom: 2px solid #4f46e5;
            padding-bottom: 10px;
        }
        
        .toc ul {
            list-style: none;
            padding: 0;
        }
        
        .toc li {
            padding: 8px 0;
            border-bottom: 1px dotted #ddd;
        }
        
        .toc li a {
            color: #333;
            text-decoration: none;
        }
        
        .toc .section-num {
            display: inline-block;
            width: 40px;
            font-weight: bold;
            color: #4f46e5;
        }
        
        /* Headings */
        h1 {
            font-size: 28px;
            color: #4f46e5;
            border-bottom: 3px solid #4f46e5;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        
        h2 {
            font-size: 22px;
            color: #4f46e5;
            margin-top: 30px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 8px;
        }
        
        h3 {
            font-size: 18px;
            color: #6366f1;
            margin-top: 25px;
        }
        
        h4 {
            font-size: 16px;
            color: #333;
            margin-top: 20px;
        }
        
        /* Section styling */
        .section {
            page-break-inside: avoid;
            margin-bottom: 30px;
        }
        
        /* Code blocks */
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.5;
            margin: 15px 0;
        }
        
        code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            color: #e11d48;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }
        
        th, td {
            border: 1px solid #e5e7eb;
            padding: 12px 15px;
            text-align: left;
        }
        
        th {
            background: #4f46e5;
            color: white;
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background: #f9fafb;
        }
        
        /* Lists */
        ul, ol {
            padding-left: 25px;
            margin: 15px 0;
        }
        
        li {
            margin: 8px 0;
        }
        
        /* Folder structure */
        .folder-structure {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre;
            overflow-x: auto;
        }
        
        .folder-structure .folder {
            color: #4f46e5;
            font-weight: bold;
        }
        
        .folder-structure .file {
            color: #059669;
        }
        
        /* Info boxes */
        .info-box {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        /* Feature cards */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
        }
        
        .feature-card h4 {
            color: #4f46e5;
            margin-top: 0;
            margin-bottom: 10px;
        }
        
        /* API endpoint styling */
        .endpoint {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .endpoint .method {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 12px;
            margin-right: 10px;
        }
        
        .endpoint .method.get { background: #10b981; color: white; }
        .endpoint .method.post { background: #3b82f6; color: white; }
        .endpoint .method.put { background: #f59e0b; color: white; }
        .endpoint .method.delete { background: #ef4444; color: white; }
        
        .endpoint .path {
            font-family: 'Consolas', monospace;
            color: #333;
        }
        
        /* Page breaks */
        .page-break {
            page-break-after: always;
        }
        
        /* Print styles */
        @media print {
            body {
                padding: 0;
            }
            
            pre {
                white-space: pre-wrap;
                word-wrap: break-word;
            }
        }
    </style>
</head>
<body>

    <!-- Cover Page -->
    <div class="cover-page">
        <h1>ğŸ¢ Employee Attendance System</h1>
        <p class="subtitle">Technical Documentation & Interview Guide</p>
        
        <div style="margin: 60px 0;">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 24 24' fill='none' stroke='%234f46e5' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='9' cy='7' r='4'%3E%3C/circle%3E%3Cpath d='M22 21v-2a4 4 0 0 0-3-3.87'%3E%3C/path%3E%3Cpath d='M16 3.13a4 4 0 0 1 0 7.75'%3E%3C/path%3E%3C/svg%3E" alt="Logo" />
        </div>
        
        <div class="project-info">
            <p><strong>Project Type:</strong> Full Stack Web Application</p>
            <p><strong>Frontend:</strong> React 18 + TypeScript + Vite</p>
            <p><strong>Backend:</strong> Node.js + Express + TypeScript</p>
            <p><strong>Database:</strong> PostgreSQL with Sequelize ORM</p>
            <p><strong>Version:</strong> 1.0.0</p>
            <p><strong>Date:</strong> November 2025</p>
        </div>
    </div>

    <!-- Table of Contents -->
    <div class="toc">
        <h2>ğŸ“‘ Table of Contents</h2>
        <ul>
            <li><span class="section-num">1.</span> Project Overview</li>
            <li><span class="section-num">2.</span> Technology Stack</li>
            <li><span class="section-num">3.</span> Project Structure</li>
            <li><span class="section-num">4.</span> Database Design</li>
            <li><span class="section-num">5.</span> API Documentation</li>
            <li><span class="section-num">6.</span> Authentication & Authorization</li>
            <li><span class="section-num">7.</span> Key Features</li>
            <li><span class="section-num">8.</span> Frontend Architecture</li>
            <li><span class="section-num">9.</span> Backend Architecture</li>
            <li><span class="section-num">10.</span> Setup & Installation</li>
            <li><span class="section-num">11.</span> Environment Variables</li>
            <li><span class="section-num">12.</span> Interview Q&A</li>
        </ul>
    </div>

    <!-- Section 1: Project Overview -->
    <h1>1. Project Overview</h1>
    <div class="section">
        <h2>1.1 Introduction</h2>
        <p>
            The <strong>Employee Attendance System</strong> is a comprehensive full-stack web application 
            designed to streamline workforce attendance management. It provides role-based access for 
            Employees and Managers with features including real-time attendance tracking, department-wise 
            analytics, and exportable reports.
        </p>
        
        <h2>1.2 Key Objectives</h2>
        <ul>
            <li>âœ… Automate employee check-in and check-out processes</li>
            <li>âœ… Track attendance with late arrival detection (after 9 AM)</li>
            <li>âœ… Provide department-wise attendance analytics for managers</li>
            <li>âœ… Generate exportable attendance reports (CSV format)</li>
            <li>âœ… Auto-generate unique Employee IDs (EMP001, EMP002, etc.)</li>
            <li>âœ… Case-insensitive department management</li>
            <li>âœ… Role-based access control (Employee/Manager)</li>
        </ul>
        
        <h2>1.3 User Roles</h2>
        <table>
            <tr>
                <th>Role</th>
                <th>Access Level</th>
                <th>Capabilities</th>
            </tr>
            <tr>
                <td><strong>Employee</strong></td>
                <td>Basic</td>
                <td>Check-in/out, view own attendance history, view profile</td>
            </tr>
            <tr>
                <td><strong>Manager</strong></td>
                <td>Administrative</td>
                <td>View all employees, department analytics, generate reports, team calendar</td>
            </tr>
        </table>
    </div>

    <div class="page-break"></div>

    <!-- Section 2: Technology Stack -->
    <h1>2. Technology Stack</h1>
    <div class="section">
        <h2>2.1 Frontend Technologies</h2>
        <table>
            <tr>
                <th>Technology</th>
                <th>Version</th>
                <th>Purpose</th>
            </tr>
            <tr>
                <td>React</td>
                <td>18.2.0</td>
                <td>UI Library</td>
            </tr>
            <tr>
                <td>TypeScript</td>
                <td>4.9.5</td>
                <td>Type Safety</td>
            </tr>
            <tr>
                <td>Vite</td>
                <td>Latest</td>
                <td>Build Tool & Dev Server</td>
            </tr>
            <tr>
                <td>Redux Toolkit</td>
                <td>2.11.0</td>
                <td>State Management</td>
            </tr>
            <tr>
                <td>React Router DOM</td>
                <td>6.22.1</td>
                <td>Client-side Routing</td>
            </tr>
            <tr>
                <td>Axios</td>
                <td>1.13.2</td>
                <td>HTTP Client</td>
            </tr>
            <tr>
                <td>Chart.js</td>
                <td>4.5.1</td>
                <td>Data Visualization</td>
            </tr>
            <tr>
                <td>React-Toastify</td>
                <td>11.0.5</td>
                <td>Notifications</td>
            </tr>
            <tr>
                <td>Moment.js</td>
                <td>2.30.1</td>
                <td>Date Formatting</td>
            </tr>
        </table>

        <h2>2.2 Backend Technologies</h2>
        <table>
            <tr>
                <th>Technology</th>
                <th>Version</th>
                <th>Purpose</th>
            </tr>
            <tr>
                <td>Node.js</td>
                <td>18+</td>
                <td>Runtime Environment</td>
            </tr>
            <tr>
                <td>Express</td>
                <td>5.1.0</td>
                <td>Web Framework</td>
            </tr>
            <tr>
                <td>TypeScript</td>
                <td>5.9.3</td>
                <td>Type Safety</td>
            </tr>
            <tr>
                <td>Sequelize</td>
                <td>6.37.7</td>
                <td>ORM for PostgreSQL</td>
            </tr>
            <tr>
                <td>PostgreSQL</td>
                <td>Latest</td>
                <td>Relational Database</td>
            </tr>
            <tr>
                <td>JWT</td>
                <td>9.0.2</td>
                <td>Authentication</td>
            </tr>
            <tr>
                <td>bcryptjs</td>
                <td>3.0.3</td>
                <td>Password Hashing</td>
            </tr>
            <tr>
                <td>json2csv</td>
                <td>6.0.0</td>
                <td>Report Generation</td>
            </tr>
        </table>
    </div>

    <div class="page-break"></div>

    <!-- Section 3: Project Structure -->
    <h1>3. Project Structure</h1>
    <div class="section">
        <h2>3.1 Complete Folder Structure</h2>
        <div class="folder-structure">
Employee-Attendance-System/
â”‚
â”œâ”€â”€ ğŸ“ BackEnd/
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ controllers/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ services/
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ auth.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Employee/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ controllers/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ attendance.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ attendance.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ services/
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ attendance.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Manager/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ controllers/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ attendance.controller.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ routes/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ attendance.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ services/
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“„ attendance.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ DashBoard/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ dashboard.service.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ middleware/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ models/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ package.json
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.json
â”‚   â”œâ”€â”€ ğŸ“„ .env
â”‚   â””â”€â”€ ğŸ“„ .env.example
â”‚
â”œâ”€â”€ ğŸ“ FrontEnd/
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Layout.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ Navbar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ LoginPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ RegisterPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ProfilePage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ EmployeeDashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ AttendanceHistory.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ManagerDashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ManagerAllEmployees.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ManagerReports.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ ManagerTeamCalendar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ redux/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ store.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ authSlice.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ api.ts
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ attendanceService.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ styles/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ (CSS files)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ App.tsx
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ package.json
â”‚   â”œâ”€â”€ ğŸ“„ tsconfig.json
â”‚   â”œâ”€â”€ ğŸ“„ vite.config.ts
â”‚   â””â”€â”€ ğŸ“„ index.html
â”‚
â”œâ”€â”€ ğŸ“„ README.md
â””â”€â”€ ğŸ“„ .gitignore
        </div>

        <h2>3.2 Architecture Pattern</h2>
        <p>
            The backend follows a <strong>layered architecture</strong> pattern with clear separation of concerns:
        </p>
        <ul>
            <li><strong>Controllers:</strong> Handle HTTP requests/responses</li>
            <li><strong>Services:</strong> Business logic layer</li>
            <li><strong>Models:</strong> Database schemas and ORM definitions</li>
            <li><strong>Routes:</strong> API endpoint definitions</li>
            <li><strong>Middleware:</strong> Authentication and request processing</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <!-- Section 4: Database Design -->
    <h1>4. Database Design</h1>
    <div class="section">
        <h2>4.1 Entity Relationship Diagram</h2>
        <div class="info-box">
            <strong>Database:</strong> PostgreSQL<br>
            <strong>ORM:</strong> Sequelize<br>
            <strong>Database Name:</strong> Employee_Attendance_System
        </div>

        <h2>4.2 User Table</h2>
        <table>
            <tr>
                <th>Column</th>
                <th>Type</th>
                <th>Constraints</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>id</td>
                <td>INTEGER</td>
                <td>PRIMARY KEY, AUTO INCREMENT</td>
                <td>Unique identifier</td>
            </tr>
            <tr>
                <td>name</td>
                <td>STRING</td>
                <td>NOT NULL</td>
                <td>Employee full name</td>
            </tr>
            <tr>
                <td>email</td>
                <td>STRING</td>
                <td>UNIQUE, NOT NULL</td>
                <td>Login email address</td>
            </tr>
            <tr>
                <td>password</td>
                <td>STRING</td>
                <td>NOT NULL</td>
                <td>Hashed password (bcrypt)</td>
            </tr>
            <tr>
                <td>role</td>
                <td>STRING</td>
                <td>DEFAULT: 'employee'</td>
                <td>'employee' or 'manager'</td>
            </tr>
            <tr>
                <td>employeeId</td>
                <td>STRING</td>
                <td>UNIQUE</td>
                <td>Auto-generated (EMP001)</td>
            </tr>
            <tr>
                <td>department</td>
                <td>STRING</td>
                <td>-</td>
                <td>Normalized department name</td>
            </tr>
            <tr>
                <td>createdAt</td>
                <td>TIMESTAMP</td>
                <td>AUTO</td>
                <td>Record creation time</td>
            </tr>
            <tr>
                <td>updatedAt</td>
                <td>TIMESTAMP</td>
                <td>AUTO</td>
                <td>Last update time</td>
            </tr>
        </table>

        <h2>4.3 Attendance Table</h2>
        <table>
            <tr>
                <th>Column</th>
                <th>Type</th>
                <th>Constraints</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>id</td>
                <td>INTEGER</td>
                <td>PRIMARY KEY, AUTO INCREMENT</td>
                <td>Unique identifier</td>
            </tr>
            <tr>
                <td>userId</td>
                <td>INTEGER</td>
                <td>FOREIGN KEY â†’ Users.id</td>
                <td>Reference to User</td>
            </tr>
            <tr>
                <td>date</td>
                <td>DATEONLY</td>
                <td>-</td>
                <td>Attendance date</td>
            </tr>
            <tr>
                <td>checkInTime</td>
                <td>DATETIME</td>
                <td>-</td>
                <td>Check-in timestamp</td>
            </tr>
            <tr>
                <td>checkOutTime</td>
                <td>DATETIME</td>
                <td>-</td>
                <td>Check-out timestamp</td>
            </tr>
            <tr>
                <td>status</td>
                <td>STRING</td>
                <td>-</td>
                <td>'Present', 'Late', 'Absent'</td>
            </tr>
            <tr>
                <td>totalHours</td>
                <td>FLOAT</td>
                <td>-</td>
                <td>Calculated work hours</td>
            </tr>
        </table>

        <h2>4.4 Relationships</h2>
        <pre>
User.hasMany(Attendance, { foreignKey: 'userId' });
Attendance.belongsTo(User, { foreignKey: 'userId' });
        </pre>
    </div>

    <div class="page-break"></div>

    <!-- Section 5: API Documentation -->
    <h1>5. API Documentation</h1>
    <div class="section">
        <div class="info-box">
            <strong>Base URL:</strong> http://localhost:5000/api<br>
            <strong>Response Format:</strong> { success: boolean, data: any, message: string }
        </div>

        <h2>5.1 Authentication APIs</h2>
        
        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="path">/api/auth/register</span>
            <p><strong>Description:</strong> Register a new user (Employee/Manager)</p>
            <p><strong>Request Body:</strong></p>
            <pre>
{
    "name": "John Doe",
    "email": "john@example.com",
    "password": "password123",
    "role": "employee",
    "department": "IT"
}
            </pre>
            <p><strong>Response:</strong></p>
            <pre>
{
    "success": true,
    "data": {
        "id": 1,
        "name": "John Doe",
        "email": "john@example.com",
        "role": "employee",
        "employeeId": "EMP001",
        "department": "IT"
    },
    "message": "User registered successfully"
}
            </pre>
        </div>

        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="path">/api/auth/login</span>
            <p><strong>Description:</strong> User login</p>
            <p><strong>Request Body:</strong></p>
            <pre>
{
    "email": "john@example.com",
    "password": "password123"
}
            </pre>
            <p><strong>Response:</strong></p>
            <pre>
{
    "success": true,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIs...",
        "user": {
            "id": 1,
            "name": "John Doe",
            "role": "employee"
        }
    },
    "message": "Login successful"
}
            </pre>
        </div>

        <h2>5.2 Employee APIs</h2>

        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="path">/api/attendance/checkin</span>
            <p><strong>Description:</strong> Employee check-in (marks Late if after 9 AM)</p>
            <p><strong>Headers:</strong> Authorization: Bearer {token}</p>
        </div>

        <div class="endpoint">
            <span class="method post">POST</span>
            <span class="path">/api/attendance/checkout</span>
            <p><strong>Description:</strong> Employee check-out (calculates total hours)</p>
            <p><strong>Headers:</strong> Authorization: Bearer {token}</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/attendance/history</span>
            <p><strong>Description:</strong> Get employee's attendance history</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/attendance/today</span>
            <p><strong>Description:</strong> Get today's attendance status</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/attendance/summary</span>
            <p><strong>Description:</strong> Get monthly attendance summary</p>
        </div>

        <h2>5.3 Manager APIs</h2>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/manager/attendance/dashboard</span>
            <p><strong>Description:</strong> Get manager dashboard data with stats</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/manager/attendance/all</span>
            <p><strong>Description:</strong> Get all employees' attendance</p>
            <p><strong>Query Params:</strong> ?department=IT&date=2025-11-30</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/manager/attendance/export</span>
            <p><strong>Description:</strong> Export attendance report as CSV</p>
        </div>

        <div class="endpoint">
            <span class="method get">GET</span>
            <span class="path">/api/manager/attendance/departments</span>
            <p><strong>Description:</strong> Get all unique departments</p>
        </div>
    </div>

    <div class="page-break"></div>

    <!-- Section 6: Authentication & Authorization -->
    <h1>6. Authentication & Authorization</h1>
    <div class="section">
        <h2>6.1 JWT Authentication Flow</h2>
        <ol>
            <li>User submits credentials (email/password)</li>
            <li>Server validates credentials against database</li>
            <li>If valid, server generates JWT token with user ID and role</li>
            <li>Token is sent to client and stored in localStorage</li>
            <li>Client includes token in Authorization header for subsequent requests</li>
            <li>Middleware validates token and extracts user info</li>
        </ol>

        <h2>6.2 JWT Token Structure</h2>
        <pre>
// Token Payload
{
    "id": 1,
    "role": "employee",
    "iat": 1732972800,
    "exp": 1732976400  // 1 hour expiry
}
        </pre>

        <h2>6.3 Auth Middleware Implementation</h2>
        <pre>
// middleware/auth.ts
export const authMiddleware = (req, res, next) => {
    const token = req.headers.authorization?.split(' ')[1];
    
    if (!token) {
        return res.status(401).json({
            success: false,
            message: 'Access denied. No token provided.'
        });
    }

    try {
        const decoded = jwt.verify(token, process.env.JWT_SECRET);
        req.user = decoded;
        next();
    } catch (error) {
        res.status(403).json({
            success: false,
            message: 'Invalid token'
        });
    }
};
        </pre>

        <h2>6.4 Password Security</h2>
        <ul>
            <li>Passwords hashed using <code>bcryptjs</code> with salt rounds of 10</li>
            <li>Plain text passwords never stored in database</li>
            <li>Password comparison using <code>bcrypt.compare()</code></li>
        </ul>
    </div>

    <div class="page-break"></div>

    <!-- Section 7: Key Features -->
    <h1>7. Key Features</h1>
    <div class="section">
        <h2>7.1 Employee Features</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h4>ğŸŸ¢ Check-In / Check-Out</h4>
                <p>One-click attendance marking with automatic late detection after 9 AM</p>
            </div>
            <div class="feature-card">
                <h4>ğŸ“Š Dashboard Statistics</h4>
                <p>View present days, absent days, late arrivals, and monthly work hours</p>
            </div>
            <div class="feature-card">
                <h4>ğŸ“œ Attendance History</h4>
                <p>Complete attendance history with date, time, duration, and status</p>
            </div>
            <div class="feature-card">
                <h4>ğŸ‘¤ Profile Management</h4>
                <p>View personal details including auto-generated Employee ID</p>
            </div>
        </div>

        <h2>7.2 Manager Features</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <h4>ğŸ“ˆ Analytics Dashboard</h4>
                <p>Department-wise attendance charts and statistics</p>
            </div>
            <div class="feature-card">
                <h4>ğŸ‘¥ All Employees View</h4>
                <p>Filter and search employees by department and date</p>
            </div>
            <div class="feature-card">
                <h4>ğŸ“… Team Calendar</h4>
                <p>Calendar view of team attendance patterns</p>
            </div>
            <div class="feature-card">
                <h4>ğŸ“¥ Export Reports</h4>
                <p>Download attendance data as CSV for external analysis</p>
            </div>
        </div>

        <h2>7.3 Auto-Generated Employee ID</h2>
        <pre>
// auth.service.ts
const generateEmployeeId = async (): Promise&lt;string&gt; => {
    const lastUser = await User.findOne({
        order: [['id', 'DESC']],
    });
    
    let nextNumber = 1;
    if (lastUser && lastUser.employeeId) {
        const match = lastUser.employeeId.match(/EMP(\d+)/);
        if (match) {
            nextNumber = parseInt(match[1], 10) + 1;
        }
    }
    
    return `EMP${nextNumber.toString().padStart(3, '0')}`;
    // Output: EMP001, EMP002, EMP003, ...
};
        </pre>

        <h2>7.4 Case-Insensitive Department Normalization</h2>
        <pre>
// Normalizes department names during registration
const normalizeDepartment = (department: string): string => {
    const trimmed = department.trim().toLowerCase();
    
    // Abbreviations converted to uppercase
    const abbreviations = ['it', 'hr', 'qa', 'ui', 'ux', 'ai', 'ml'];
    if (abbreviations.includes(trimmed)) {
        return trimmed.toUpperCase();  // "it" â†’ "IT"
    }
    
    // Title Case for others
    return trimmed.split(' ')
        .map(word => word.charAt(0).toUpperCase() + word.slice(1))
        .join(' ');  // "human resources" â†’ "Human Resources"
};
        </pre>
    </div>

    <div class="page-break"></div>

    <!-- Section 8: Frontend Architecture -->
    <h1>8. Frontend Architecture</h1>
    <div class="section">
        <h2>8.1 State Management (Redux Toolkit)</h2>
        <pre>
// redux/authSlice.ts
import { createSlice, PayloadAction } from '@reduxjs/toolkit';

interface AuthState {
    user: User | null;
    token: string | null;
    isAuthenticated: boolean;
}

const authSlice = createSlice({
    name: 'auth',
    initialState,
    reducers: {
        setCredentials: (state, action) => {
            state.user = action.payload.user;
            state.token = action.payload.token;
            state.isAuthenticated = true;
        },
        logout: (state) => {
            state.user = null;
            state.token = null;
            state.isAuthenticated = false;
        }
    }
});
        </pre>

        <h2>8.2 API Service Layer</h2>
        <pre>
// services/api.ts
import axios from 'axios';

const api = axios.create({
    baseURL: 'http://localhost:5000/api',
    headers: { 'Content-Type': 'application/json' }
});

// Request interceptor for auth token
api.interceptors.request.use((config) => {
    const token = localStorage.getItem('token');
    if (token) {
        config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
});

export default api;
        </pre>

        <h2>8.3 Routing Structure</h2>
        <pre>
// App.tsx - Route Configuration
&lt;Routes&gt;
    {/* Public Routes */}
    &lt;Route path="/login" element={&lt;LoginPage /&gt;} /&gt;
    &lt;Route path="/register" element={&lt;RegisterPage /&gt;} /&gt;
    
    {/* Employee Routes */}
    &lt;Route path="/employee/dashboard" element={&lt;EmployeeDashboard /&gt;} /&gt;
    &lt;Route path="/employee/history" element={&lt;AttendanceHistory /&gt;} /&gt;
    &lt;Route path="/profile" element={&lt;ProfilePage /&gt;} /&gt;
    
    {/* Manager Routes */}
    &lt;Route path="/manager/dashboard" element={&lt;ManagerDashboard /&gt;} /&gt;
    &lt;Route path="/manager/employees" element={&lt;ManagerAllEmployees /&gt;} /&gt;
    &lt;Route path="/manager/reports" element={&lt;ManagerReports /&gt;} /&gt;
    &lt;Route path="/manager/calendar" element={&lt;ManagerTeamCalendar /&gt;} /&gt;
&lt;/Routes&gt;
        </pre>

        <h2>8.4 Toast Notifications</h2>
        <pre>
// Using React-Toastify
import { toast } from 'react-toastify';

// Success notification
toast.success('âœ… Successfully checked in!');

// Error notification
toast.error('âŒ Check-in failed. Please try again.');

// Warning notification
toast.warning('âš ï¸ It\'s past 9 AM. You will be marked late.');

// Info notification
toast.info('ğŸ‰ You have completed your attendance for today!');
        </pre>
    </div>

    <div class="page-break"></div>

    <!-- Section 9: Backend Architecture -->
    <h1>9. Backend Architecture</h1>
    <div class="section">
        <h2>9.1 Express Server Setup</h2>
        <pre>
// index.ts
import express from 'express';
import cors from 'cors';
import { sequelize } from './models';

const app = express();

// Middleware
app.use(cors());
app.use(express.json());

// Cache Control Headers (Prevent 304 responses)
app.use((req, res, next) => {
    res.setHeader('Cache-Control', 
        'no-store, no-cache, must-revalidate, proxy-revalidate');
    res.setHeader('Pragma', 'no-cache');
    res.setHeader('Expires', '0');
    next();
});

// Routes
app.use('/api/auth', authRoutes);
app.use('/api/attendance', attendanceRoutes);
app.use('/api/manager/attendance', managerRoutes);

// Database Sync & Server Start
sequelize.sync().then(() => {
    app.listen(5000, () => {
        console.log('Server running on port 5000');
    });
});
        </pre>

        <h2>9.2 Controller Pattern</h2>
        <pre>
// Example: attendance.controller.ts
class AttendanceController {
    async checkIn(req: Request, res: Response) {
        try {
            const userId = req.user.id;
            const attendance = await attendanceService.checkIn(userId);
            
            res.status(201).json({
                success: true,
                data: attendance,
                message: 'Checked in successfully'
            });
        } catch (error: any) {
            res.status(400).json({
                success: false,
                data: null,
                message: error.message
            });
        }
    }
}
        </pre>

        <h2>9.3 Service Layer Pattern</h2>
        <pre>
// Example: attendance.service.ts
class AttendanceService {
    async checkIn(userId: number) {
        const today = new Date().toISOString().split('T')[0];
        const currentHour = new Date().getHours();
        
        // Check existing attendance
        const existing = await Attendance.findOne({
            where: { userId, date: today }
        });
        
        if (existing) {
            throw new Error('Already checked in today');
        }
        
        // Determine status (Late if after 9 AM)
        const status = currentHour >= 9 ? 'Late' : 'Present';
        
        return await Attendance.create({
            userId,
            date: today,
            checkInTime: new Date(),
            status
        });
    }
}
        </pre>

        <h2>9.4 Response Format Standard</h2>
        <table>
            <tr>
                <th>Status Code</th>
                <th>Usage</th>
                <th>Response Format</th>
            </tr>
            <tr>
                <td>200</td>
                <td>Success (GET, PUT)</td>
                <td>{ success: true, data: {...}, message: "..." }</td>
            </tr>
            <tr>
                <td>201</td>
                <td>Created (POST)</td>
                <td>{ success: true, data: {...}, message: "Created successfully" }</td>
            </tr>
            <tr>
                <td>400</td>
                <td>Bad Request</td>
                <td>{ success: false, data: null, message: "Error details" }</td>
            </tr>
            <tr>
                <td>401</td>
                <td>Unauthorized</td>
                <td>{ success: false, message: "Access denied" }</td>
            </tr>
            <tr>
                <td>403</td>
                <td>Forbidden</td>
                <td>{ success: false, message: "Invalid token" }</td>
            </tr>
            <tr>
                <td>500</td>
                <td>Server Error</td>
                <td>{ success: false, message: "Internal server error" }</td>
            </tr>
        </table>
    </div>

    <div class="page-break"></div>

    <!-- Section 10: Setup & Installation -->
    <h1>10. Setup & Installation</h1>
    <div class="section">
        <h2>10.1 Prerequisites</h2>
        <ul>
            <li>Node.js v18 or higher</li>
            <li>PostgreSQL v14 or higher</li>
            <li>npm or yarn package manager</li>
            <li>Git for version control</li>
        </ul>

        <h2>10.2 Database Setup</h2>
        <pre>
-- Create Database
CREATE DATABASE Employee_Attendance_System;

-- Connect to database
\c Employee_Attendance_System;

-- Tables are auto-created by Sequelize sync()
        </pre>

        <h2>10.3 Backend Setup</h2>
        <pre>
# Navigate to backend folder
cd BackEnd

# Install dependencies
npm install

# Create .env file (copy from .env.example)
cp .env.example .env

# Edit .env with your database credentials
# DB_HOST=localhost
# DB_USER=postgres
# DB_PASSWORD=your_password
# DB_NAME=Employee_Attendance_System
# JWT_SECRET=your_jwt_secret

# Run in development mode
npm run dev

# Build for production
npm run build

# Run production build
npm start
        </pre>

        <h2>10.4 Frontend Setup</h2>
        <pre>
# Navigate to frontend folder
cd FrontEnd

# Install dependencies
npm install

# Create .env file
echo "VITE_API_URL=http://localhost:5000/api" > .env

# Run development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run serve
        </pre>

        <h2>10.5 Running the Application</h2>
        <div class="info-box">
            <strong>Backend Server:</strong> http://localhost:5000<br>
            <strong>Frontend App:</strong> http://localhost:5173 (Vite default)<br>
        </div>
    </div>

    <div class="page-break"></div>

    <!-- Section 11: Environment Variables -->
    <h1>11. Environment Variables</h1>
    <div class="section">
        <h2>11.1 Backend (.env)</h2>
        <pre>
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password
DB_NAME=Employee_Attendance_System

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key

# Server Configuration
PORT=5000
NODE_ENV=development
        </pre>

        <h2>11.2 Frontend (.env)</h2>
        <pre>
# API Base URL
VITE_API_URL=http://localhost:5000/api
        </pre>

        <div class="warning-box">
            <strong>âš ï¸ Security Note:</strong> Never commit .env files to version control. 
            Always add them to .gitignore and use .env.example as a template.
        </div>
    </div>

    <div class="page-break"></div>

    <!-- Section 12: Interview Q&A -->
    <h1>12. Interview Questions & Answers</h1>
    <div class="section">
        <h2>12.1 Project Overview Questions</h2>
        
        <h3>Q1: Can you explain the overall architecture of your project?</h3>
        <p><strong>Answer:</strong> The Employee Attendance System follows a full-stack architecture with clear separation:</p>
        <ul>
            <li><strong>Frontend:</strong> React 18 with TypeScript, using Redux Toolkit for state management and React Router for navigation</li>
            <li><strong>Backend:</strong> Node.js with Express framework, following a layered architecture (Controllers â†’ Services â†’ Models)</li>
            <li><strong>Database:</strong> PostgreSQL with Sequelize ORM for data persistence</li>
            <li><strong>Authentication:</strong> JWT-based stateless authentication with bcrypt password hashing</li>
        </ul>

        <h3>Q2: Why did you choose this tech stack?</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li><strong>React + TypeScript:</strong> Type safety reduces runtime errors, better IDE support, easier refactoring</li>
            <li><strong>Redux Toolkit:</strong> Simplified Redux setup, built-in immutability with Immer, excellent DevTools</li>
            <li><strong>Express:</strong> Lightweight, flexible, large ecosystem of middleware</li>
            <li><strong>PostgreSQL:</strong> ACID compliance, complex queries, excellent for relational data like attendance records</li>
            <li><strong>Sequelize:</strong> Mature ORM, migrations support, model validation</li>
        </ul>

        <h2>12.2 Technical Implementation Questions</h2>

        <h3>Q3: How does the authentication system work?</h3>
        <p><strong>Answer:</strong></p>
        <ol>
            <li>User registers with email/password; password is hashed using bcrypt with 10 salt rounds</li>
            <li>On login, credentials are verified and a JWT token is generated containing user ID and role</li>
            <li>Token expires in 1 hour for security</li>
            <li>Client stores token in localStorage and sends it in Authorization header</li>
            <li>Auth middleware validates token on every protected route</li>
        </ol>

        <h3>Q4: How do you handle late arrivals?</h3>
        <p><strong>Answer:</strong> The system automatically marks attendance as "Late" if the check-in time is after 9:00 AM:</p>
        <pre>
const currentHour = new Date().getHours();
const status = currentHour >= 9 ? 'Late' : 'Present';
        </pre>

        <h3>Q5: How did you implement the auto-generated Employee ID?</h3>
        <p><strong>Answer:</strong> The system queries the last user's Employee ID, extracts the numeric part, increments it, and pads with zeros:</p>
        <ul>
            <li>Find last user: <code>User.findOne({ order: [['id', 'DESC']] })</code></li>
            <li>Extract number using regex: <code>/EMP(\d+)/</code></li>
            <li>Increment and pad: <code>`EMP${(num + 1).toString().padStart(3, '0')}`</code></li>
            <li>Result: EMP001 â†’ EMP002 â†’ EMP003...</li>
        </ul>

        <h3>Q6: How do you handle department case-sensitivity?</h3>
        <p><strong>Answer:</strong> Departments are normalized during registration:</p>
        <ul>
            <li>Common abbreviations (IT, HR, QA) are converted to uppercase</li>
            <li>Other departments are converted to Title Case</li>
            <li>This ensures "it", "IT", "It" are all stored as "IT"</li>
        </ul>

        <h2>12.3 Frontend Questions</h2>

        <h3>Q7: How do you manage global state in React?</h3>
        <p><strong>Answer:</strong> Using Redux Toolkit with slices:</p>
        <ul>
            <li><code>authSlice</code> manages user authentication state</li>
            <li><code>useSelector</code> hook to read state</li>
            <li><code>useDispatch</code> hook to dispatch actions</li>
            <li>State persisted to localStorage for session persistence</li>
        </ul>

        <h3>Q8: How do you handle API errors in the frontend?</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li>Axios interceptors catch errors globally</li>
            <li>Try-catch blocks in async functions</li>
            <li>React-Toastify displays user-friendly error messages</li>
            <li>Error boundaries for component-level error handling</li>
        </ul>

        <h2>12.4 Backend Questions</h2>

        <h3>Q9: Explain the layered architecture in your backend.</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li><strong>Routes:</strong> Define API endpoints and map to controllers</li>
            <li><strong>Controllers:</strong> Handle HTTP request/response, input validation</li>
            <li><strong>Services:</strong> Business logic, database operations via models</li>
            <li><strong>Models:</strong> Sequelize models defining database schema</li>
            <li><strong>Middleware:</strong> Cross-cutting concerns (auth, logging, CORS)</li>
        </ul>

        <h3>Q10: How do you prevent 304 (Not Modified) responses?</h3>
        <p><strong>Answer:</strong> Added cache-control middleware to disable caching:</p>
        <pre>
app.use((req, res, next) => {
    res.setHeader('Cache-Control', 
        'no-store, no-cache, must-revalidate, proxy-revalidate');
    res.setHeader('Pragma', 'no-cache');
    res.setHeader('Expires', '0');
    next();
});
        </pre>

        <h2>12.5 Database Questions</h2>

        <h3>Q11: Why PostgreSQL over MongoDB?</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li>Attendance data is highly relational (Users â†’ Attendance records)</li>
            <li>ACID compliance ensures data integrity</li>
            <li>Complex queries for reports (JOINs, aggregations)</li>
            <li>Strong data consistency requirements</li>
        </ul>

        <h3>Q12: How does Sequelize help in this project?</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li>Model definitions with TypeScript interfaces</li>
            <li>Auto table creation with <code>sequelize.sync()</code></li>
            <li>Built-in query methods (findAll, findOne, create)</li>
            <li>Association definitions (hasMany, belongsTo)</li>
            <li>Timestamps (createdAt, updatedAt) automatically managed</li>
        </ul>

        <h2>12.6 Scalability & Improvements</h2>

        <h3>Q13: How would you scale this application?</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li><strong>Horizontal scaling:</strong> Multiple Node.js instances with load balancer</li>
            <li><strong>Database:</strong> Read replicas, connection pooling, indexing</li>
            <li><strong>Caching:</strong> Redis for frequently accessed data</li>
            <li><strong>CDN:</strong> For static frontend assets</li>
            <li><strong>Microservices:</strong> Split into Auth, Attendance, Reports services</li>
        </ul>

        <h3>Q14: What improvements would you make?</h3>
        <p><strong>Answer:</strong></p>
        <ul>
            <li>Add refresh tokens for better security</li>
            <li>Implement role-based route guards</li>
            <li>Add unit and integration tests (Jest)</li>
            <li>Implement WebSocket for real-time attendance updates</li>
            <li>Add email notifications for late arrivals</li>
            <li>Mobile app using React Native</li>
            <li>Geolocation-based check-in verification</li>
        </ul>
    </div>

    <!-- Footer -->
    <div style="margin-top: 60px; padding-top: 20px; border-top: 2px solid #e5e7eb; text-align: center; color: #666;">
        <p><strong>Employee Attendance System</strong></p>
        <p>Technical Documentation v1.0 | November 2025</p>
    </div>

</body>
</html>
